{"ast":null,"code":"// import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\n// export const getProducts = createAsyncThunk('product/getProducts', async(_, thunkAPI) => {\n//     const {rejectWithValue} = thunkAPI\n//     try{\n//         const res = await fetch (\"http://localhost:3005/product\")\n//         const data = await res.json()\n//         return data;\n\n//     }catch(error) {\n//         return rejectWithValue(error.message)\n//     }\n\n// })\n// export const getUsers = createAsyncThunk('product/getUsers', async(_, thunkAPI) => {\n//     const {rejectWithValue} = thunkAPI\n//     try{\n//         const res = await fetch (\"http://localhost:3005/user\")\n//         const data = await res.json()\n//         return data;\n\n//     }catch(error) {\n//         return rejectWithValue(error.message)\n//     }\n\n// })\n// export const insertUser = createAsyncThunk(\"product/insertUser\" , async (dataUser , thunkAPI) => {\n//     const {rejectWithValue, getState} = thunkAPI\n//     try{\n//       console.log(dataUser)\n//         dataUser.name = getState().auth.name\n//         dataUser.email = getState().auth.email\n//         dataUser.password = getState().auth.password\n//         const res = await fetch(\"http://localhost:3005/user\", {\n//             method:'POST',\n//             body : JSON.stringify(dataUser),\n//             headers: {\n//                 'Content-type': 'application/json; charset=UTF-8'\n//             },\n//         })\n//         const data = await res.json()\n//         return data;\n\n//     }catch(error){\n//         return rejectWithValue(error.message)\n\n//     }\n\n// })\n// export const getCart = createAsyncThunk('product/getCart', async(_, thunkAPI) => {\n//     const {rejectWithValue} = thunkAPI\n//     try{\n\n//         const res = await fetch (\"http://localhost:3005/cart\")\n//         const data = await res.json()\n//         return data;\n\n//     }catch(error) {\n//         return rejectWithValue(error.message)\n//     }\n\n// })\n// export const addToCart = createAsyncThunk(\"product/addToCart\" , async (productInfo , thunkAPI) => {\n//     const {rejectWithValue, getState} = thunkAPI\n//     try{\n\n//       const userId = getState().product.login.userId;\n//       const productToSend = {\n//         id: productInfo.id,\n//         title: productInfo.title,\n//         price: productInfo.price,\n//         image: productInfo.image,\n//         category: productInfo.category,\n//         userId, // attach user\n//       };\n//         const res = await fetch(\"http://localhost:3005/cart\", {\n//             method:'POST',\n//             body : JSON.stringify(productToSend),\n//             headers: {\n//                 'Content-type': 'application/json; charset=UTF-8'\n//             },\n//         })\n//         const data = await res.json()\n//         console.log(data)\n//         return data;\n\n//     }catch(error){\n//         return rejectWithValue(error.message)\n\n//     }\n\n// })\n\n// const ProductSlice = createSlice({\n//   name: \"product\",\n//   initialState: {\n//     products: [],\n//     filteredProducts: [],\n//     cart: [],\n//     users:[],\n//     login:{status:false,userId:\"\"},\n//   },\n//   reducers: {\n//     dataFilter: (state, action) => {\n//       if (action.payload === \"All\") {\n//         state.filteredProducts = state.products;\n//       } else {\n//         if(state.products){\n//           state.filteredProducts = state.products.filter(\n//           (el) => el.category === action.payload\n//         );\n//         }\n//       }\n//     },\n//     // addToCart: (state, action) => {\n//     //   const product = state.products.find(el => el.id === action.payload);\n//     //   if (product) {\n//     //     const exist = state.cart.find(el => el.id === product.id);\n//     //     if (exist) {\n//     //       exist.quantity += 1;\n//     //     } else {\n//     //       state.cart.push({ ...product, quantity: 1 });\n//     //     }\n//     //   }\n//     // },\n//     incrementQty: (state, action) => {\n//       const item = state.cart.find(el => el.id === action.payload);\n//       if (item) item.quantity += 1;\n//     },\n//     decrementQty: (state, action) => {\n//       const item = state.cart.find(el => el.id === action.payload);\n//       if (item && item.quantity > 1) item.quantity -= 1;\n//     },\n//     addUser:(state,action)=>{\n//       state.users.push(action.payload)\n//     },\n//     logIn :(state,action)=>{\n//       state.login.status = true\n//       state.login.userId = action.payload\n//     }\n//   },\n//   extraReducers: (builder) => {\n//     builder\n//       .addCase(getProducts.pending, (state) => {\n//         console.log(\"pending\")\n//       })\n//       .addCase(getProducts.fulfilled, (state, action) => {\n//         state.products = action.payload;\n//         state.filteredProducts = action.payload;\n//         console.log(\"fullfiled\")\n//       })\n//       .addCase(getProducts.rejected, (state, action) => {\n//       })\n//       .addCase(getUsers.pending, (state, action) => {\n//         console.log(\"pending\")\n//       })\n//       .addCase(getUsers.fulfilled, (state, action) => {\n//         state.users = action.payload;\n//         console.log(\"fullfiled\")\n\n//       })\n//       .addCase(getUsers.rejected, (state, action) => {\n//         console.log(\"rejected\")\n//       })\n//       .addCase(getCart.pending, (state, action) => {\n//         console.log(\"pending\")\n//       })\n//       .addCase(getCart.fulfilled, (state, action) => {\n//         state.cart = action.payload;\n//         console.log(\"fullfiled\")\n\n//       })\n//       .addCase(getCart.rejected, (state, action) => {\n//         console.log(\"rejected\")\n//       })\n//       .addCase(addToCart.pending, (state, action) => {\n//         console.log(\"pending\")\n//       })\n//       .addCase(addToCart.fulfilled, (state, action) => {\n//         state.cart.push( action.payload);\n//         console.log(\"fullfiled\")\n\n//       })\n//       .addCase(addToCart.rejected, (state, action) => {\n//         console.log(\"rejected\")\n//       })\n//   }\n// });\n\n// export const { dataFilter, incrementQty, decrementQty,addUser,logIn } = ProductSlice.actions;\n// export default ProductSlice.reducer;","map":{"version":3,"names":[],"sources":["D:/React training/blog/src/store/ProductSlice.js"],"sourcesContent":["// import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\n// export const getProducts = createAsyncThunk('product/getProducts', async(_, thunkAPI) => {\r\n//     const {rejectWithValue} = thunkAPI\r\n//     try{\r\n//         const res = await fetch (\"http://localhost:3005/product\")\r\n//         const data = await res.json()\r\n//         return data;\r\n\r\n//     }catch(error) {\r\n//         return rejectWithValue(error.message)\r\n//     }\r\n\r\n// })\r\n// export const getUsers = createAsyncThunk('product/getUsers', async(_, thunkAPI) => {\r\n//     const {rejectWithValue} = thunkAPI\r\n//     try{\r\n//         const res = await fetch (\"http://localhost:3005/user\")\r\n//         const data = await res.json()\r\n//         return data;\r\n\r\n//     }catch(error) {\r\n//         return rejectWithValue(error.message)\r\n//     }\r\n\r\n// })\r\n// export const insertUser = createAsyncThunk(\"product/insertUser\" , async (dataUser , thunkAPI) => {\r\n//     const {rejectWithValue, getState} = thunkAPI\r\n//     try{\r\n//       console.log(dataUser)\r\n//         dataUser.name = getState().auth.name\r\n//         dataUser.email = getState().auth.email\r\n//         dataUser.password = getState().auth.password\r\n//         const res = await fetch(\"http://localhost:3005/user\", {\r\n//             method:'POST',\r\n//             body : JSON.stringify(dataUser),\r\n//             headers: {\r\n//                 'Content-type': 'application/json; charset=UTF-8'\r\n//             },\r\n//         })\r\n//         const data = await res.json()\r\n//         return data;\r\n\r\n//     }catch(error){\r\n//         return rejectWithValue(error.message)\r\n\r\n//     }\r\n    \r\n// })\r\n// export const getCart = createAsyncThunk('product/getCart', async(_, thunkAPI) => {\r\n//     const {rejectWithValue} = thunkAPI\r\n//     try{\r\n      \r\n//         const res = await fetch (\"http://localhost:3005/cart\")\r\n//         const data = await res.json()\r\n//         return data;\r\n\r\n//     }catch(error) {\r\n//         return rejectWithValue(error.message)\r\n//     }\r\n\r\n// })\r\n// export const addToCart = createAsyncThunk(\"product/addToCart\" , async (productInfo , thunkAPI) => {\r\n//     const {rejectWithValue, getState} = thunkAPI\r\n//     try{\r\n      \r\n//       const userId = getState().product.login.userId;\r\n//       const productToSend = {\r\n//         id: productInfo.id,\r\n//         title: productInfo.title,\r\n//         price: productInfo.price,\r\n//         image: productInfo.image,\r\n//         category: productInfo.category,\r\n//         userId, // attach user\r\n//       };\r\n//         const res = await fetch(\"http://localhost:3005/cart\", {\r\n//             method:'POST',\r\n//             body : JSON.stringify(productToSend),\r\n//             headers: {\r\n//                 'Content-type': 'application/json; charset=UTF-8'\r\n//             },\r\n//         })\r\n//         const data = await res.json()\r\n//         console.log(data)\r\n//         return data;\r\n\r\n//     }catch(error){\r\n//         return rejectWithValue(error.message)\r\n\r\n//     }\r\n    \r\n// })\r\n\r\n// const ProductSlice = createSlice({\r\n//   name: \"product\",\r\n//   initialState: {\r\n//     products: [],\r\n//     filteredProducts: [],\r\n//     cart: [],\r\n//     users:[],\r\n//     login:{status:false,userId:\"\"},\r\n//   },\r\n//   reducers: {\r\n//     dataFilter: (state, action) => {\r\n//       if (action.payload === \"All\") {\r\n//         state.filteredProducts = state.products;\r\n//       } else {\r\n//         if(state.products){\r\n//           state.filteredProducts = state.products.filter(\r\n//           (el) => el.category === action.payload\r\n//         );\r\n//         }\r\n//       }\r\n//     },\r\n//     // addToCart: (state, action) => {\r\n//     //   const product = state.products.find(el => el.id === action.payload);\r\n//     //   if (product) {\r\n//     //     const exist = state.cart.find(el => el.id === product.id);\r\n//     //     if (exist) {\r\n//     //       exist.quantity += 1;\r\n//     //     } else {\r\n//     //       state.cart.push({ ...product, quantity: 1 });\r\n//     //     }\r\n//     //   }\r\n//     // },\r\n//     incrementQty: (state, action) => {\r\n//       const item = state.cart.find(el => el.id === action.payload);\r\n//       if (item) item.quantity += 1;\r\n//     },\r\n//     decrementQty: (state, action) => {\r\n//       const item = state.cart.find(el => el.id === action.payload);\r\n//       if (item && item.quantity > 1) item.quantity -= 1;\r\n//     },\r\n//     addUser:(state,action)=>{\r\n//       state.users.push(action.payload)\r\n//     },\r\n//     logIn :(state,action)=>{\r\n//       state.login.status = true\r\n//       state.login.userId = action.payload\r\n//     }\r\n//   },\r\n//   extraReducers: (builder) => {\r\n//     builder\r\n//       .addCase(getProducts.pending, (state) => {\r\n//         console.log(\"pending\")\r\n//       })\r\n//       .addCase(getProducts.fulfilled, (state, action) => {\r\n//         state.products = action.payload;\r\n//         state.filteredProducts = action.payload;\r\n//         console.log(\"fullfiled\")\r\n//       })\r\n//       .addCase(getProducts.rejected, (state, action) => {\r\n//       })\r\n//       .addCase(getUsers.pending, (state, action) => {\r\n//         console.log(\"pending\")\r\n//       })\r\n//       .addCase(getUsers.fulfilled, (state, action) => {\r\n//         state.users = action.payload;\r\n//         console.log(\"fullfiled\")\r\n\r\n//       })\r\n//       .addCase(getUsers.rejected, (state, action) => {\r\n//         console.log(\"rejected\")\r\n//       })\r\n//       .addCase(getCart.pending, (state, action) => {\r\n//         console.log(\"pending\")\r\n//       })\r\n//       .addCase(getCart.fulfilled, (state, action) => {\r\n//         state.cart = action.payload;\r\n//         console.log(\"fullfiled\")\r\n\r\n//       })\r\n//       .addCase(getCart.rejected, (state, action) => {\r\n//         console.log(\"rejected\")\r\n//       })\r\n//       .addCase(addToCart.pending, (state, action) => {\r\n//         console.log(\"pending\")\r\n//       })\r\n//       .addCase(addToCart.fulfilled, (state, action) => {\r\n//         state.cart.push( action.payload);\r\n//         console.log(\"fullfiled\")\r\n\r\n//       })\r\n//       .addCase(addToCart.rejected, (state, action) => {\r\n//         console.log(\"rejected\")\r\n//       })\r\n//   }\r\n// });\r\n\r\n// export const { dataFilter, incrementQty, decrementQty,addUser,logIn } = ProductSlice.actions;\r\n// export default ProductSlice.reducer;\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}