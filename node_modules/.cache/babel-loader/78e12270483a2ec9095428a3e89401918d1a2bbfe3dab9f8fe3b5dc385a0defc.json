{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst ProductSlice = createSlice({\n  name: \"product\",\n  initialState: {\n    filteredProducts: [],\n    cart: [],\n    products: []\n  },\n  reducers: {\n    viewData: (state, action) => {\n      console.log(state.filteredProducts);\n    },\n    dataFilter: (state, action) => {\n      if (action.payload === \"All\") {\n        // لو المستخدم اختار \"All\" نعرض كل المنتجات\n        state.filteredProducts = state.products;\n      } else {\n        // غير ذلك نعرض فقط الفئة المطلوبة\n        state.filteredProducts = state.products.filter(el => el.category === action.payload);\n      }\n    },\n    addToCart: (state, action) => {\n      const product = state.products.find(el => el.id === action.payload);\n      if (product) {\n        // تحقق إذا المنتج موجود مسبقاً في الكارت\n        const exist = state.cart.find(el => el.id === product.id);\n        if (exist) {\n          // إذا موجود زد الكمية\n          exist.quantity += 1;\n        } else {\n          // إذا غير موجود أضف المنتج مع quantity = 1\n          state.cart.push({\n            ...product,\n            quantity: 1\n          });\n        }\n      }\n    },\n    incrementQty: (state, action) => {\n      const item = state.cart.find(el => el.id === action.payload);\n      if (item) item.quantity += 1;\n    },\n    decrementQty: (state, action) => {\n      const item = state.cart.find(el => el.id === action.payload);\n      if (item && item.quantity > 1) item.quantity -= 1;\n    }\n  }\n});\nexport const {\n  viewData,\n  dataFilter,\n  addToCart,\n  incrementQty,\n  decrementQty\n} = ProductSlice.actions;\nexport default ProductSlice.reducer;","map":{"version":3,"names":["createSlice","ProductSlice","name","initialState","filteredProducts","cart","products","reducers","viewData","state","action","console","log","dataFilter","payload","filter","el","category","addToCart","product","find","id","exist","quantity","push","incrementQty","item","decrementQty","actions","reducer"],"sources":["D:/React training/react-todo-app-main - Copy/src/store/ProductSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nconst ProductSlice = createSlice({\r\n  name: \"product\",\r\n  initialState: {\r\n    filteredProducts: [], cart: [] , products: []\r\n  },\r\n  reducers: {\r\n    viewData: (state, action) => {\r\n      console.log(state.filteredProducts);\r\n    },\r\n    dataFilter: (state, action) => {\r\n  if (action.payload === \"All\") {\r\n    // لو المستخدم اختار \"All\" نعرض كل المنتجات\r\n    state.filteredProducts = state.products;\r\n  } else {\r\n    // غير ذلك نعرض فقط الفئة المطلوبة\r\n    state.filteredProducts = state.products.filter(\r\n      (el) => el.category === action.payload\r\n    );\r\n  }\r\n},\r\naddToCart: (state, action) => {\r\n  const product = state.products.find(el => el.id === action.payload);\r\n  if (product) {\r\n    // تحقق إذا المنتج موجود مسبقاً في الكارت\r\n    const exist = state.cart.find(el => el.id === product.id);\r\n    if (exist) {\r\n      // إذا موجود زد الكمية\r\n      exist.quantity += 1;\r\n    } else {\r\n      // إذا غير موجود أضف المنتج مع quantity = 1\r\n      state.cart.push({ ...product, quantity: 1 });\r\n    }\r\n  }\r\n},\r\n\r\nincrementQty: (state, action) => {\r\n  const item = state.cart.find(el => el.id === action.payload);\r\n  if (item) item.quantity += 1;\r\n},\r\n\r\ndecrementQty: (state, action) => {\r\n  const item = state.cart.find(el => el.id === action.payload);\r\n  if (item && item.quantity > 1) item.quantity -= 1;\r\n},\r\n\r\n  },\r\n});\r\n\r\nexport const { viewData,dataFilter ,addToCart,incrementQty,decrementQty} = ProductSlice.actions;\r\nexport default ProductSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAGD,WAAW,CAAC;EAC/BE,IAAI,EAAE,SAAS;EACfC,YAAY,EAAE;IACZC,gBAAgB,EAAE,EAAE;IAAEC,IAAI,EAAE,EAAE;IAAGC,QAAQ,EAAE;EAC7C,CAAC;EACDC,QAAQ,EAAE;IACRC,QAAQ,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC3BC,OAAO,CAACC,GAAG,CAACH,KAAK,CAACL,gBAAgB,CAAC;IACrC,CAAC;IACDS,UAAU,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;MACjC,IAAIA,MAAM,CAACI,OAAO,KAAK,KAAK,EAAE;QAC5B;QACAL,KAAK,CAACL,gBAAgB,GAAGK,KAAK,CAACH,QAAQ;MACzC,CAAC,MAAM;QACL;QACAG,KAAK,CAACL,gBAAgB,GAAGK,KAAK,CAACH,QAAQ,CAACS,MAAM,CAC3CC,EAAE,IAAKA,EAAE,CAACC,QAAQ,KAAKP,MAAM,CAACI,OACjC,CAAC;MACH;IACF,CAAC;IACDI,SAAS,EAAEA,CAACT,KAAK,EAAEC,MAAM,KAAK;MAC5B,MAAMS,OAAO,GAAGV,KAAK,CAACH,QAAQ,CAACc,IAAI,CAACJ,EAAE,IAAIA,EAAE,CAACK,EAAE,KAAKX,MAAM,CAACI,OAAO,CAAC;MACnE,IAAIK,OAAO,EAAE;QACX;QACA,MAAMG,KAAK,GAAGb,KAAK,CAACJ,IAAI,CAACe,IAAI,CAACJ,EAAE,IAAIA,EAAE,CAACK,EAAE,KAAKF,OAAO,CAACE,EAAE,CAAC;QACzD,IAAIC,KAAK,EAAE;UACT;UACAA,KAAK,CAACC,QAAQ,IAAI,CAAC;QACrB,CAAC,MAAM;UACL;UACAd,KAAK,CAACJ,IAAI,CAACmB,IAAI,CAAC;YAAE,GAAGL,OAAO;YAAEI,QAAQ,EAAE;UAAE,CAAC,CAAC;QAC9C;MACF;IACF,CAAC;IAEDE,YAAY,EAAEA,CAAChB,KAAK,EAAEC,MAAM,KAAK;MAC/B,MAAMgB,IAAI,GAAGjB,KAAK,CAACJ,IAAI,CAACe,IAAI,CAACJ,EAAE,IAAIA,EAAE,CAACK,EAAE,KAAKX,MAAM,CAACI,OAAO,CAAC;MAC5D,IAAIY,IAAI,EAAEA,IAAI,CAACH,QAAQ,IAAI,CAAC;IAC9B,CAAC;IAEDI,YAAY,EAAEA,CAAClB,KAAK,EAAEC,MAAM,KAAK;MAC/B,MAAMgB,IAAI,GAAGjB,KAAK,CAACJ,IAAI,CAACe,IAAI,CAACJ,EAAE,IAAIA,EAAE,CAACK,EAAE,KAAKX,MAAM,CAACI,OAAO,CAAC;MAC5D,IAAIY,IAAI,IAAIA,IAAI,CAACH,QAAQ,GAAG,CAAC,EAAEG,IAAI,CAACH,QAAQ,IAAI,CAAC;IACnD;EAEE;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEf,QAAQ;EAACK,UAAU;EAAEK,SAAS;EAACO,YAAY;EAACE;AAAY,CAAC,GAAG1B,YAAY,CAAC2B,OAAO;AAC/F,eAAe3B,YAAY,CAAC4B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}