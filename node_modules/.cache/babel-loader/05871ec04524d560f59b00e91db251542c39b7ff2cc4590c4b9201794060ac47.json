{"ast":null,"code":"import React,{useRef,useState,useEffect}from'react';import{NavLink,useOutletContext,useSearchParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function List(_ref){let{type,movies,series}=_ref;const datasearch=useRef(\"\");const{size}=useOutletContext();const[searchParams,setSearchParams]=useSearchParams();const[filteredData,setFilteredData]=useState([]);const searchValue=searchParams.get(\"search\")||\"\";useEffect(()=>{let data=[];const keyword=searchValue.toLowerCase();if(type===\"movie\"&&movies){data=movies.filter(el=>el.original_title.toLowerCase().includes(keyword));}else if(type===\"tv\"&&series){data=series.filter(el=>el.original_name.toLowerCase().includes(keyword));}setFilteredData(data);},[searchValue,movies,series,type]);const searchHandler=e=>{e.preventDefault();const value=datasearch.current.value.trim();setSearchParams(value?{search:value}:{});};const listToShow=searchValue.length>0?filteredData:type===\"movie\"?movies:series;return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full px-4 sm:px-6 md:px-12 lg:px-20\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"flex justify-center mt-8 relative\",onSubmit:searchHandler,children:[/*#__PURE__*/_jsx(\"input\",{className:\"pl-4 pr-10 py-2 rounded-2xl border border-gray-300 w-full max-w-md focus:outline-none focus:ring-2 focus:ring-red-600\",type:\"search\",placeholder:\"Search...\",name:\"search\",defaultValue:searchValue,ref:datasearch}),/*#__PURE__*/_jsx(\"button\",{className:\"absolute right-10 top-0 mt-2 mr-2 text-red-600 text-lg\",type:\"submit\",children:\"\\uD83D\\uDD0D\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-10\",children:listToShow&&listToShow.length>0?listToShow.map(el=>{const imageUrl=\"\".concat(process.env.PUBLIC_URL,\"/images\").concat(el.poster_path);const title=el.original_title||el.original_name;return/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-normal rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300\",children:/*#__PURE__*/_jsxs(NavLink,{to:\"/\".concat(type,\"/\").concat(el.id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-full h-[280px] sm:h-64 md:h-72 lg:h-80 object-cover rounded-lg\",src:imageUrl,alt:title}),/*#__PURE__*/_jsx(\"h4\",{className:\"mt-2 text-sm sm:text-base md:text-lg\",children:title})]})},el.id);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-white col-span-full\",children:\"No results found.\"})})]});}export default List;","map":{"version":3,"names":["React","useRef","useState","useEffect","NavLink","useOutletContext","useSearchParams","jsx","_jsx","jsxs","_jsxs","List","_ref","type","movies","series","datasearch","size","searchParams","setSearchParams","filteredData","setFilteredData","searchValue","get","data","keyword","toLowerCase","filter","el","original_title","includes","original_name","searchHandler","e","preventDefault","value","current","trim","search","listToShow","length","className","children","onSubmit","placeholder","name","defaultValue","ref","map","imageUrl","concat","process","env","PUBLIC_URL","poster_path","title","to","id","src","alt"],"sources":["D:/React training/movie-app/src/components/List.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { NavLink, useOutletContext, useSearchParams } from 'react-router-dom';\r\n\r\nfunction List({ type, movies, series }) {\r\n  const datasearch = useRef(\"\");\r\n  const { size } = useOutletContext();\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const [filteredData, setFilteredData] = useState([]);\r\n\r\n  const searchValue = searchParams.get(\"search\") || \"\";\r\n\r\n  useEffect(() => {\r\n    let data = [];\r\n    const keyword = searchValue.toLowerCase();\r\n\r\n    if (type === \"movie\" && movies) {\r\n      data = movies.filter((el) =>\r\n        el.original_title.toLowerCase().includes(keyword)\r\n      );\r\n    } else if (type === \"tv\" && series) {\r\n      data = series.filter((el) =>\r\n        el.original_name.toLowerCase().includes(keyword)\r\n      );\r\n    }\r\n\r\n    setFilteredData(data);\r\n  }, [searchValue, movies, series, type]);\r\n\r\n  const searchHandler = (e) => {\r\n    e.preventDefault();\r\n    const value = datasearch.current.value.trim();\r\n    setSearchParams(value ? { search: value } : {});\r\n  };\r\n\r\n  const listToShow =\r\n    searchValue.length > 0 ? filteredData : type === \"movie\" ? movies : series;\r\n\r\n  return (\r\n    <div className=\"w-full px-4 sm:px-6 md:px-12 lg:px-20\">\r\n      {/* Search */}\r\n      <form className=\"flex justify-center mt-8 relative\" onSubmit={searchHandler}>\r\n        <input\r\n          className=\"pl-4 pr-10 py-2 rounded-2xl border border-gray-300 w-full max-w-md focus:outline-none focus:ring-2 focus:ring-red-600\"\r\n          type=\"search\"\r\n          placeholder=\"Search...\"\r\n          name=\"search\"\r\n          defaultValue={searchValue}\r\n          ref={datasearch}\r\n        />\r\n        <button\r\n          className=\"absolute right-10 top-0 mt-2 mr-2 text-red-600 text-lg\"\r\n          type=\"submit\"\r\n        >\r\n          üîç\r\n        </button>\r\n      </form>\r\n\r\n      {/* Movies/Series Grid */}\r\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 mt-10\">\r\n        {listToShow && listToShow.length > 0 ? (\r\n          listToShow.map((el) => {\r\n            const imageUrl = `${process.env.PUBLIC_URL}/images${el.poster_path}`;\r\n            const title = el.original_title || el.original_name;\r\n            return (\r\n              <div\r\n                className=\"text-white font-normal rounded-lg overflow-hidden hover:scale-105 transition-transform duration-300\"\r\n                key={el.id}\r\n              >\r\n                <NavLink to={`/${type}/${el.id}`}>\r\n                  <img\r\n                    className=\"w-full h-[280px] sm:h-64 md:h-72 lg:h-80 object-cover rounded-lg\"\r\n                    src={imageUrl}\r\n                    alt={title}\r\n                  />\r\n                  <h4 className=\"mt-2 text-sm sm:text-base md:text-lg\">{title}</h4>\r\n                </NavLink>\r\n              </div>\r\n            );\r\n          })\r\n        ) : (\r\n          <p className=\"text-center text-white col-span-full\">No results found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default List;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}